<div class="card text-dark bg-light mb-3">
    <div class="card-header">{{title}}</div>
    <div class="card-body">
        <button class="btn btn-danger my-2" routerLink="/tests">Back</button>
        <form>
            <div class="from-group">
                <label for="name">Name</label>
                <input type="text" name="name" class="form-control" [(ngModel)]="model.name" id="name">
                <div class="alert alert-danger" *ngIf="errors?.name">{{errors.name}}</div>
            </div>
            <div class="form-group my-2">
                <label for="subjectFather">Subject</label>
                <select (change)="loadSons()" [compareWith]="compareSubject" [(ngModel)]="model.subjectFather" class="form-group form-select" name="subjectFather" id="subjectFather">
                    <option [ngValue]="undefined">---Select Subject---</option>
                    <option *ngFor="let sub of subjectsFather" [ngValue]="sub">{{sub.name}}</option>
                </select>
                <div class="alert alert-danger" *ngIf="errors?.subjectFather">{{errors.subjectFather}}</div>
            </div>
            <div class="form-group my-2">
                <label for="subjectSon">Subject Son</label>
                <select [(ngModel)]="model.subjectSon" [compareWith]="compareSubject" class="form-group form-select" name="subjectSon" id="subjectSon">
                    <option [ngValue]="undefined">---Select Subject---</option>
                    <option *ngFor="let sub of subjectsSon" [ngValue]="sub">{{sub.name}}</option>
                </select>
                <div class="alert alert-danger" *ngIf="errors?.subjectSon">{{errors.subjectSon}}</div>
            </div>
            <button class="btn btn-secondary btn-lg my-2" type="button" (click)="addQuestion()">Add Question</button>
            <div class="form-group my-2" *ngFor="let question of model.questions; let i = index">
                <div class="row">
                    <div class="col-sm-1">
                        <label>Question {{i+1}}:</label>
                    </div>
                    <div class="col-sm-6">
                        <input type="text" value="{{question.text}}" class="form-control" (change)="addTex(question, $event)">
                    </div>
                    <div class="col-sm-1">
                        <button class="btn btn-danger btn-sm" (click)="deleteQuestion(question)">X</button>
                    </div>
                </div>
            </div>
            <div class="from-group">
                <button class="btn btn-primary my-3" type="button" (click)="model.id? edit(): create()">{{model.id? 'Edit': 'Create'}}</button>
            </div>
        </form>
    </div>
</div>